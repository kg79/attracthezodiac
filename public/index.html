<!Doctype html>
<html>
    <head>

        <link href="https://fonts.googleapis.com/css2?family=Kavivanar&display=swap" rel="stylesheet">
       <meta name="viewport" content="width=device-width, initial-scale=1">
        <style>
            :root {
                --goldilox:#e0d313;
                --cap-blue:#00aeff;

            }
            body, html {
                margin:0;
            }
            h1 {
                font-family: 'Kavivanar', cursive;
                color:var(--goldilox);
                background:var(--cap-blue);                
                margin:0;
                text-align:center;
                height:9vh;
            }
            main {
                background:var(--cap-blue);
                color:var(--goldilox);
                height:91vh;
                display:flex;
                justify-content:center;
                align-items:center;
            } form {
                font-family:sans-serif;

                width:fit-content;
                padding:1%;
                width:80vw;
                text-align:center;
            } .forming {
                text-align:center;
            } 

        </style>
    </head>
    <body>
        <h1>
            Attract the Zodiac
        </h1>
        <main>
            <section>
            <form method='POST' action='/signUp' onsubmit='determine()'>
               <div class='forming'>SignUp</div> 
                <label>name: </label><input name='username'><br/>
                <label>birthday: </label><input name='birthday' type='date' id='birthday'><br/>
                <label>password: </label><input name='password'><br/>
                <input type='hidden' name='tropical' id='tropical'>
                <input type='hidden' name='chinese' id='chinese'>
                <input type='hidden' name='element' id='element'>
              
               <input type='submit'>
            </form> 

            <form method='POST' action='/logIn'>
                <div class='forming'>Log In</div>
                <label>username: </label><input name='username'><br/>
                <label>password: </label><input name='password'><br/>
                <input type='submit'>
            </form> 
        </section> 
        </main>
    </body>
<script>
let newYears = [
    ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
        '02-08',//40
        '01-27',//41
        '02-15',//42
        '02-04',//43
        '01-25',//44
        '02-13',//45
        '02-01',//46
        '01-22',//47
        '02-10',//48
        '01-29',//49
        '02-17',//50
        '02-06',//51
        '01-27',//52
        '02-14',//53
        '02-03',//54
        '01-24',//55
        '02-12',//56
        '01-31',//57
        '02-18',//58
        '02-08',//59
        '01-28',//60
        '02-15',//61
        '02-05',//62
        '01-25',//63
        '02-13',//64
        '02-02',//65
        '01-21',//66
        '02-09',//67
        '01-30',//68
        '02-17',//69
        '02-06',//70
        '01-27',//71
        '02-15',//72
        '02-03',//73
        '01-23',//74
        '02-11',//75
        '01-31',//76
        '02-18',//77
        '02-07',//78
        '01-28',//79
        '02-16',//80
        '02-05',//81
        '01-25',//82
        '02-13',//83
        '02-02',//84
        '02-20',//85
        '02-09',//86
        '01-29',//87
        '02-17',//88
        '02-06',//89
        '01-27',//90
        '02-15',//91
        '02-04',//92
        '01-23',//93
        '02-10',//94
        '01-31',//95
        '02-19',//96
        '02-07',//97
        '01-28',//98
        '02-16',//99
        '02-05',//00
        '01-24',//01
        '02-12',//02
    ];

    const tropical = document.getElementById('tropical');
    const chinese = document.getElementById('chinese');
    const element = document.getElementById('element');
    const birthday = document.getElementById('birthday');

    function determine() {

    let month = parseInt(birthday.value[5] + birthday.value[6]);
    let day = parseInt(birthday.value[8] + birthday.value[9]);


    if (month == 3 && day >= 21 || month == 4 && day < 21) {
        tropical.value = 'Aries';
    } else if (month == 4 && day >= 21 || month == 5 && day < 22) {
        tropical.value = 'Taurus';
    } else if (month == 5 && day >= 22 || month == 6 && day < 22) {
        tropical.value = 'Gemini';
    } else if (month == 6 && day >= 22 || month == 7 && day < 23) {
        tropical.value = 'Cancer';
    } else if (month == 7 && day >= 23 || month == 8 && day < 23) {
        tropical.value = 'Leo';
    } else if (month == 8 && day >= 23 || month == 9 && day < 23) {
        tropical.value = 'Virgo';
    } else if (month == 9 && day >= 23 || month == 10 && day < 23) {
        tropical.value = 'Libra';
    } else if (month == 10 && day >= 23 || month == 11 && day < 22) {
        tropical.value = 'Scorpio';
    } else if (month == 11 && day >= 22 || month == 12 && day < 22) {
        tropical.value = 'Sagittarius';
    } else if (month == 12 && day >= 22 || month == 1 && day < 20) {
        tropical.value = 'Capricorn';
    } else if (month == 1 && day >= 20 || month == 2 && day < 20) {
        tropical.value = 'Aquarius';
    } else if (month == 2 && day >= 20 || month == 3 && day < 21) {
        tropical.value = 'Pisces';
    }

    let year = parseInt(birthday.value.match(/[0-9]{4}/));


    let yearIndex = parseInt(year.toString().match(/[0-9]{2}$/)[0])

    if (yearIndex < 40) {
        yearIndex += 100;
    }

    let monthOfChineseNewYear = newYears[yearIndex].split('-')[0];
    let dayOfChineseNewYear = newYears[yearIndex].split('-')[1];

    if (month < monthOfChineseNewYear && day < dayOfChineseNewYear) {
        year -= 1;
        yearIndex -=1;
    }



    switch (year % 12) {
                case 0:
                    chinese.value = 'monkey';
                break;
                case 1:
                    chinese.value = 'rooster';
                break;
                case 2: 
                    chinese.value = 'dog';
                break;
                case 3:
                    chinese.value = 'pig';
                break;
                case 4:
                    chinese.value ='rat';
                break;
                case 5:
                    chinese.value ='ox';
                break;
                case 6:
                    chinese.value = 'tiger';
                break;
                case 7:
                    chinese.value ='rabbit';
                break;
                case 8:
                    chinese.value ='dragon';
                break;
                case 9:
                    chinese.value = 'snake';
                break;
                case 10:
                    chinese.value = 'horse';
                break;
                case 11:
                    chinese.value = 'goat';
                break;
            }

    let elements = [
    ,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,
        'metal', 'metal', 'water', 'water', 'wood', 'wood', 'fire', 'fire', 'earth', 'earth',
        'metal', 'metal', 'water', 'water', 'wood', 'wood', 'fire', 'fire', 'earth', 'earth',
        'metal', 'metal', 'water', 'water', 'wood', 'wood', 'fire', 'fire', 'earth', 'earth',
        'metal', 'metal', 'water', 'water', 'wood', 'wood', 'fire', 'fire', 'earth', 'earth',
        'metal', 'metal', 'water', 'water', 'wood', 'wood', 'fire', 'fire', 'earth', 'earth',
        'metal', 'metal', 'water', 'water', 'wood', 'wood', 'fire', 'fire', 'earth', 'earth',
        'metal', 'metal'
    ];
    element.value = elements[yearIndex];

    console.log(tropical.value)
    console.log(chinese.value)
    console.log(element.value)
}

</script>
    </html>
